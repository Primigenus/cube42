<head>
  <meta charset="utf-8">
  <title>Rahul's Cube</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link href='http://fonts.googleapis.com/css?family=Monda:400,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <header>
    <div id="level">Level 1</div>
    {{> explanation}}
  </header>

  {{#if currentUser}}
    <p>Hello {{> currentUser}}!</p>
  {{/if}}

  {{> body}}
  {{> totals}}
</body>

<template name="loading">
  <div id="loading">
    <img src="/logo.png" alt="" style="height:96px" />
    
    <h1>Rahul's Cube</h1>
    <h2>A 3d puzzle game</h2>

    <div data-role="play" class="button">
      Play
    </div>
    <div data-role="instructions" class="button">
      Instructions
    </div>

  </div>
</template>

<template name="explanation">
  <div id="explanation">
    {{message}}
  </div>
</template>

<template name="body">
  {{> loading}}
  <section id="container">
    <div id="instructions">
      <ol>
        <li>Rahul's Cube is a large cube made of 26 smaller cubes.</li>
        <li class="with-arrow">Each smaller cube has a number. When looking at one side of the larger cube, the sum of all visible numbers is shown at the bottom...</li>
        <li class="with-arrow">...here. The goal is to get these numbers to 42.</li>
        <li>Clicking or touching a small cube hides it, revealing the cube behind it, and...</li>
        <li class="with-arrow">...altering the total.</li>
        <li>Look at different sides of the cube by dragging, clicking numbers below or with the arrow keys. Toggle smaller cubes on and off until each number reads 42.</li>
        <li>In the first level, you only need to toggle one cube.</li>
        <li>After you successfully complete a level, cubes toggled during the previous level are permanently removed.</li>
        <li>Each level, you must toggle one more cube! So in level 2, you toggle two cubes and in level 3, three cubes.</li>
        <li>The game keeps getting harder. Can you clean out all the cubes? Good luck!</li>
      </ol>
    </div>
    <div id="master-cube">
      <div class="layer" id="top">
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
      </div>
      <div class="layer" id="middle">
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
      </div>
      <div class="layer" id="bottom">
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
        {{> cube}}
      </div>
    </div>
  </section>
</template>

<template name="totals">
  <div id="total">
    <span class="face front">{{totalfront}}</span><span
    class="face back">{{totalback}}</span><span
    class="face left">{{totalleft}}</span><span
    class="face right">{{totalright}}</span><span
    class="face top">{{totaltop}}</span><span
    class="face bottom">{{totalbottom}}</span>
  </div>
</template>

<template name="cube">
  <div class="cube">
    <figure class="front"><span></span></figure>
    <figure class="back"><span></span></figure>
    <figure class="right"><span></span></figure>
    <figure class="left"><span></span></figure>
    <figure class="top"><span></span></figure>
    <figure class="bottom"><span></span></figure>
  </div>
</template>